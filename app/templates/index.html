<!DOCTYPE html>
<html>
<head>
    <title>Ëã±ÊñáÈòÖËØªÂä©Êâã</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/static/style.css?t=<?php echo time(); ?>">
</head>
<body>
    <div id="toast" class="toast"></div>

    <div class="header">
        <h1>Ëã±ÊñáÈòÖËØªÂä©Êâã</h1>
        <div class="header-buttons">
            <button class="clear-draft-btn" onclick="DraftManager.clearDraft()">Ê∏ÖÈô§ËçâÁ®ø</button>
            <button class="vocabulary-btn" onclick="showVocabulary()">ÁîüËØçÊú¨</button>
            <button class="settings-btn" onclick="openSettings()">ËÆæÁΩÆ</button>
        </div>
    </div>

    <div class="container">
        <div class="input-section">
            <div class="section-header">
            <h3>ÂéüÊñá</h3>
                <button id="lockButton" class="lock-button" onclick="toggleLock()">
                    <span class="lock-icon">üîì</span>
                </button>
            </div>
            <textarea id="original" placeholder="ËØ∑ËæìÂÖ•Ëã±ÊñáÂéüÊñá..."></textarea>
        </div>
        <div class="input-section">
            <h3>ËØëÊñá</h3>
            <textarea id="translation" placeholder="ËØ∑ËæìÂÖ•‰∏≠ÊñáËØëÊñá..."></textarea>
        </div>
    </div>

    <button class="action-button" onclick="evaluateTranslation()">ÂºÄÂßãËØÑ‰ª∑</button>

    <div class="result-section">
        <h3>ËØÑ‰ª∑ÁªìÊûú</h3>
        <div id="result"></div>
    </div>

    <div id="actionTips" class="action-tips">
        <button id="translateBtn" class="translate-btn" title="ÁøªËØë">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0014.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/>
            </svg>
        </button>
        <button id="copyBtn" class="copy-btn" title="Â§çÂà∂">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
            </svg>
        </button>
        <button id="playBtn" class="play-btn" title="ÊúóËØª">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
            </svg>
        </button>
    </div>
    
    <div class="result-tip" id="resultTip">
        <div id="translationResult"></div>
    </div>

    <!-- ËÆæÁΩÆÂºπÁ™ó -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeSettings()">&times;</button>
            <h2>ËÆæÁΩÆ</h2>

            <!-- Ê†áÁ≠æÈ°µ -->
            <div class="settings-tabs">
                <button class="settings-tab active" data-tab="general">Âü∫Á°ÄËÆæÁΩÆ</button>
                <button class="settings-tab" data-tab="tts">TTS ËÆæÁΩÆ</button>
                <button class="settings-tab" data-tab="prompt">Prompt ËÆæÁΩÆ</button>
            </div>

            <!-- ËÆæÁΩÆË°®ÂçïÂÆπÂô® -->
            <div class="settings-form-container">
                <div class="settings-form">
                    <!-- Âü∫Á°ÄËÆæÁΩÆ -->
                    <div id="general" class="settings-section active">
                        <div>
                            <label>AI Base URL:</label>
                            <input type="text" id="baseUrl">
                        </div>
                        <div>
                            <label>AI API Key:</label>
                            <input type="password" id="apiKey">
                        </div>
                        <div>
                            <label>AI Model:</label>
                            <input type="text" id="model">
                        </div>
                    </div>

                    <!-- TTS ËÆæÁΩÆ -->
                    <div id="tts" class="settings-section">
                        <div>
                            <label>TTS Voice:</label>
                            <select id="ttsVoice">
                                <option value="">Âä†ËΩΩ‰∏≠...</option>
                            </select>
                        </div>
                        <div>
                            <label>TTS Speed:</label>
                            <div class="speed-control">
                                <input type="range" id="ttsSpeed"
                                       min="0.3" max="2.0" step="0.1" value="0.8">
                                <span id="ttsSpeedValue">0.8</span>
                            </div>
                        </div>
                    </div>

                    <!-- Prompt ËÆæÁΩÆ -->
                    <div id="prompt" class="settings-section">
                        <div>
                            <label>ËØÑ‰ª∑ Prompt:</label>
                            <textarea id="evalPrompt"></textarea>
                        </div>
                        <div>
                            <label>ÁøªËØë Prompt:</label>
                            <textarea id="translatePrompt"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÊåâÈíÆÁªÑ -->
            <div class="button-group">
                <button class="action-button" onclick="saveSettings()">‰øùÂ≠òËÆæÁΩÆ</button>
                <button class="action-button reset-button" onclick="resetSettings()">ÈªòËÆ§ËÆæÁΩÆ</button>
            </div>
        </div>
    </div>

    <!-- ÁîüËØçÊú¨ÂºπÁ™ó -->
    <div id="vocabularyModal" class="modal">
        <div class="modal-content-voc">
            <button class="close-btn" onclick="closeVocabulary()">&times;</button>
            <div class="vocabulary-header">
                <h2>ÁîüËØçÊú¨</h2>
                <button class="clear-btn" onclick="clearVocabulary()">Ê∏ÖÁ©∫ÁîüËØçÊú¨</button>
            </div>
            <div id="vocabularyList" class="vocabulary-list">
                <!-- ÁîüËØçÂàóË°®Â∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
            </div>
        </div>
    </div>

    <!-- ÂºïÂÖ•ËÑöÊú¨ -->
    <script src="/static/main.js?t=<?php echo time(); ?>"></script>
</body>
</html>
